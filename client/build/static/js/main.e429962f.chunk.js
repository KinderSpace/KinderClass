(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{133:function(e,t,a){e.exports=a(322)},138:function(e,t,a){},139:function(e,t,a){},319:function(e,t){},322:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),c=a.n(s),o=a(6),l=(a(138),a(30)),i=(a(139),a(2)),m=a(3),u=a(5),h=a(4),d=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={letters:[["B","/images/letterb.png"],["C","/images/letterc.png"],["P","/images/letterp.png"],["D","/images/letterd.png"]]},e.emit=function(t){e.props.socket.emit("set-game",{newGame:"/games/tutti-frutti/".concat(t[0])})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"gameIntro"},r.a.createElement("h1",null,"Tutti Frutti"),r.a.createElement("p",null,"Choose a letter to start the game!"),r.a.createElement("div",{className:"displayLetters"},this.state.letters.map((function(t,a){return r.a.createElement("div",{className:"choiceLetter",key:a},r.a.createElement(o.b,{to:"/games/tutti-frutti/".concat(t[0])},r.a.createElement("img",{src:t[1],alt:t[0]})),"teacher"===e.props.user.role&&r.a.createElement("button",{onClick:function(){return e.emit(t)}},"Send this game"))}))))}}]),a}(r.a.Component),p=a(9),g=a(324),E=a(36),f=a.n(E),v=a(72),b=a(27),y=a(37),O=a(11),N=a.n(O),j=function(e,t,a){return console.log(e,t,a),N.a.post("/api/auth/signup",{username:e,password:t,role:a}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},C=function(e,t){return N.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))};function k(e,t,a,r){var s=Object(n.useState)(e),c=Object(l.a)(s,2),o=c[0],i=c[1],m=o.username,u=o.password,h=o.message,d=o.role;function p(){return(p=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j(m,u,d);case 3:E(e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C(m,u);case 3:E(e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){e.message?i(Object(y.a)(Object(y.a)({},o),{},{message:e.message})):(t(e),r(e.username),a.push("/"))}return{username:m,password:u,message:h,handleSignup:function(e){return p.apply(this,arguments)},handleChange:function(e){var t=e.target.name,a=e.target.value;i(Object(y.a)(Object(y.a)({},o),{},Object(b.a)({},t,a)))},handleLogin:function(e){return g.apply(this,arguments)}}}var w={username:"",password:"",message:"",role:""};function M(e){var t=e.history,a=e.setUser,n=e.join,s=k(w,a,t,n),c=s.username,o=s.password,l=s.message,i=s.handleSignup,m=s.handleChange;return r.a.createElement("div",{className:"containerLogin"},r.a.createElement("div",{className:"loginForm"},r.a.createElement("form",{onSubmit:i},r.a.createElement("div",{className:"formGroup"},r.a.createElement("h2",null,"Welcome!"),r.a.createElement("h6",null,"Create an account"),r.a.createElement("label",{htmlFor:"username"}),r.a.createElement("h3",null," Username"),r.a.createElement("input",{type:"text",name:"username",value:c,onChange:m,id:"username"})),r.a.createElement("div",{className:"formGroup"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("h3",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:o,onChange:m,id:"password"})),r.a.createElement("div",{className:"checkBox"},r.a.createElement("label",{htmlFor:"kid"},"Kid"),r.a.createElement("input",{type:"radio",name:"role",id:"kid",value:"kid",onChange:m}),r.a.createElement("label",{htmlFor:"teacher"},"Teacher"),r.a.createElement("input",{type:"radio",name:"role",id:"teacher",value:"teacher",onChange:m})),l&&r.a.createElement(g.a,{variant:"danger"},l),r.a.createElement("button",{type:"submit"},"Sign Up"))))}var S={username:"",password:"",message:""};function U(e){var t=e.setUser,a=e.history,n=e.join,s=k(S,t,a,n),c=s.username,o=s.password,l=s.message,i=s.handleChange,m=s.handleLogin;return r.a.createElement("div",{className:"containerLogin"},r.a.createElement("div",{className:"loginForm"},r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"formGroup"},r.a.createElement("h2",null,"Welcome!"),r.a.createElement("h6",null,"Log in with your account"),r.a.createElement("label",{htmlFor:"username"})," ",r.a.createElement("h3",null," Username"),r.a.createElement("input",{type:"text",name:"username",value:c,onChange:i,id:"username"})),r.a.createElement("div",{className:"formGroup"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("h3",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:o,onChange:i,id:"password"})),l&&r.a.createElement(g.a,{variant:"danger"},l),r.a.createElement("button",{type:"submit"},"Log in"))))}var B,A=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isVisible:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"allGames"},r.a.createElement("div",{className:"title"},r.a.createElement("img",{className:"imgBack",src:"/images/starBack2.png",alt:"star"}),r.a.createElement("h1",null,"Time to play!"),r.a.createElement("img",{className:"imgBack",src:"/images/starBack.png",alt:"star"})),r.a.createElement("div",{className:"gameChoiceDashboard"},r.a.createElement("div",{className:"gameChoice"},r.a.createElement("div",{className:"containerGameChoice"},r.a.createElement("img",{src:"/images/mars2.png",alt:"mars"}),r.a.createElement("h2",null,"Tutti Frutti"),r.a.createElement(o.b,{to:"/games/tutti-frutti"},"Play now!"))),r.a.createElement("div",{className:"gameChoice"},r.a.createElement("div",{className:"containerGameChoice"},r.a.createElement("img",{src:"/images/gameChoice.png",alt:"gamechoice"}),r.a.createElement("h2",null,"Math Mars"),r.a.createElement(o.b,{to:"/games/math-mars"},"Play now!"))),r.a.createElement("div",{id:"coming",className:"gameChoice"},r.a.createElement("div",{className:"containerGameChoice"},r.a.createElement("h2",null,"Coming soon"),r.a.createElement(o.b,{to:"/games/math-mars"},"Play now!")))))}}]),a}(r.a.Component),F=function(e){N.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(t){e.left(t.user.username),e.setUser(null)}))},T=function(e){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"itemNavbar"},e.user&&r.a.createElement("div",null,"Welcome, ",e.user.username)),r.a.createElement("div",{className:"itemNavbar"},r.a.createElement(o.b,{to:"/"},"Home")),r.a.createElement("div",{className:"itemNavbar"},r.a.createElement(o.b,{to:"/games"},"Games")),e.user?r.a.createElement(r.a.Fragment,null,"teacher"===e.user.role?r.a.createElement("div",{className:"itemNavbar"},r.a.createElement(o.b,{to:"/stats"},"Stats")):"",r.a.createElement("div",{className:"itemNavbar"},r.a.createElement(o.b,{to:"/",onClick:function(){return F(e)}},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"itemNavbar"},r.a.createElement(o.b,{to:"/login"},"Login")),r.a.createElement("div",{className:"itemNavbar"},r.a.createElement(o.b,{to:"/signup"},"Signup"))))},D=a(16),L=function(e){var t,a,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),a=e[n],e[n]=e[t],e[t]=a;return e},G=a(20),x=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isVisible:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(G.Animated,{animationIn:"fadeInDownBig",animationOut:"zoomOutDown",animationInDuration:1e3,animationOutDuration:1e3,isVisible:!0},r.a.createElement("div",{className:"popUpWin"},r.a.createElement("h1",null,"You are awesome!"),r.a.createElement("img",{className:"starSign",src:"\\images\\star1.png",alt:"star"}),r.a.createElement("button",{className:"buttonWin",onClick:this.props.buttonMethod},"Try again")))}}]),a}(r.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isVisible:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(G.Animated,{animationIn:"fadeInDownBig",animationOut:"zoomOutDown",animationInDuration:1e3,animationOutDuration:1e3,isVisible:!0},r.a.createElement("div",{className:"popUpWin"},r.a.createElement("img",{className:"starSign",src:"\\images\\star1.png",alt:"star"}),r.a.createElement("h1",null,"Try again! You can do this!! "),r.a.createElement("button",{className:"buttonWin",onClick:this.props.buttonMethod},"Try again")))}}]),a}(r.a.Component),W=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isVisible:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return console.log(this.props.playAgain),r.a.createElement(G.Animated,{animationIn:"rubberBand",animationOut:"flash",animationInDuration:1e3,animationOutDuration:1e3,isVisible:!0},r.a.createElement("div",{className:"greetingMessage"},r.a.createElement("h1",null,"Fantastic!! "),this.props.playAgain&&r.a.createElement("button",{onClick:this.props.handleUpdate},"Again!")))}}]),a}(r.a.Component),R=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isVisible:!1},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(G.Animated,{animationIn:"fadeInDownBig",animationOut:"zoomOutDown",animationInDuration:1e3,animationOutDuration:1e3,isVisible:!0},r.a.createElement("div",{className:"badMessage"},this.props.triesLeft<2&&r.a.createElement("h1",null,"You have ",this.props.triesLeft," try left!"),this.props.triesLeft>1&&r.a.createElement("h1",null,"You have ",this.props.triesLeft," tries left!")))}}]),a}(r.a.Component),P=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={cards:[],currentLetter:"",redirect:!1,score:100,active:!1,tries:3,right:0,showGoodMessage:!1,showBadMessage:!1,isVisible:!1},e.handleClick=function(t,a){a.letter===e.state.currentLetter?(2===e.state.right&&e.setState({active:!1}),a.hidden=!0,e.setState({score:e.state.score+10,showGoodMessage:!0,right:e.state.right+1,isVisible:!0}),setTimeout(function(){this.setState({showGoodMessage:!1})}.bind(Object(D.a)(e)),2e3)):a.letter!==e.state.currentLetter&&(1===e.state.tries&&e.setState({active:!1}),e.setState({showBadMessage:!0,score:e.state.score-10,tries:e.state.tries-1}),setTimeout(function(){this.setState({showBadMessage:!1})}.bind(Object(D.a)(e)),2e3))},e.getCards=function(){N.a.get("/api/games/tutti-frutti").then((function(t){var a=e.props.match.params.letter;e.setState({currentLetter:a,cards:L(t.data.cards),active:!e.state.active})}))},e.componentDidMount=function(){e.getCards();var t=setInterval(e.timer,1e3);e.setState({scoreCounter:t})},e.timer=function(){e.setState({score:e.state.score-1})},e.handleRedirect=function(){N.a.post("/api/games/tutti-frutti/".concat(e.state.currentLetter),e.state).then((function(t){console.log(t.data.message),e.setState({redirect:!0})}))},e.cardStyle={display:"none"},e}return Object(m.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.scoreCounter)}},{key:"render",value:function(){var e=this;return console.log(this.state.score),r.a.createElement("div",{className:"displayGame"},this.state.tries<=0&&r.a.createElement("div",{className:"congratulations"},r.a.createElement(I,{buttonMethod:this.handleRedirect})),3===this.state.right&&r.a.createElement("div",{className:"congratulations"},r.a.createElement(x,{buttonMethod:this.handleRedirect})),this.state.active&&r.a.createElement("div",{className:"score"},r.a.createElement("div",{className:"gameInfo"},r.a.createElement("h1",null,"Tutti Frutti"),r.a.createElement("p",null,"Click on the images starting with letter"," ",this.state.currentLetter),r.a.createElement("div",{className:"congratulations"},this.state.showGoodMessage&&r.a.createElement(W,null)),r.a.createElement("div",{className:"congratulations"},this.state.showBadMessage&&r.a.createElement(R,{triesLeft:this.state.tries})),r.a.createElement("div",{className:"currentLetter bounce"},r.a.createElement("h1",null,this.state.currentLetter))),r.a.createElement("div",{className:"dashBoard"},this.state.cards.map((function(t,a){return r.a.createElement("div",{className:"containerCard",key:a},r.a.createElement("img",{style:t.hidden?e.cardStyle:{},className:"wrongImg",src:t.image,onClick:function(a){e.handleClick(a,t)},alt:t.name}))})))),this.state.redirect&&r.a.createElement(p.a,{to:"/games/tutti-frutti"}))}}]),a}(r.a.Component),V=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.setQuery(t.target.value)},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchBar"},r.a.createElement("input",{type:"text",name:"query",value:this.props.query,onChange:this.handleChange,placeholder:"username"}),r.a.createElement("select",{id:"game",name:"game",onChange:this.props.handleFilters},r.a.createElement("option",{value:""},"All games"),r.a.createElement("option",{value:"tutti-frutti"},"Tutti Frutti"),r.a.createElement("option",{value:"math-mars"},"Math Mars")),r.a.createElement("select",{id:"category",name:"category",onChange:this.props.handleFilters},r.a.createElement("option",{value:""},"No category"),r.a.createElement("option",{value:"B"},"Tutti Frutti: B"),r.a.createElement("option",{value:"C"},"Tutti Frutti: C"),r.a.createElement("option",{value:"D"},"Tutti Frutti: D"),r.a.createElement("option",{value:"P"},"Tutti Frutti: P")),r.a.createElement("select",{id:"date",name:"date",onChange:this.props.handleFilters,defaultValue:5184e6},r.a.createElement("option",{value:36e5},"Last hour"),r.a.createElement("option",{value:864e5},"Last 24 hours"),r.a.createElement("option",{value:6048e5},"Last 7 days"),r.a.createElement("option",{value:2592e6},"Last 30 days"),r.a.createElement("option",{value:5184e6},"Last 60 days")))}}]),a}(n.Component),H=a(124),z=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={query:"",game:"",allData:"",category:"",date:5184e6},e.componentDidMount=function(){e.getAllData()},e.getAllData=function(){N.a.get("/api/stats").then((function(t){e.setState({allData:t.data.users.map((function(e){return e.originalMatches=e.matches.slice(0),e}))})}))},e.filteredData=function(e){var t={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Scores",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:[65,59,80,81,56,55,40]}],options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}},a=e.map((function(e){return e.username}));t.labels=a;var n=e.map((function(e){return Math.floor(e.matches.reduce((function(e,t){return e+t.score}),0)/e.matches.length||0)}));return t.datasets[0].data=n,t},e.setQuery=function(t){e.setState({query:t})},e.handleFilters=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(b.a)({},n,r))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;if(console.log(this.state.score),!this.state.allData)return r.a.createElement("div",null,"Loading...");var t=this.state.allData.filter((function(t){return t.username.includes(e.state.query)&&"teacher"!==t.role})).map((function(t){return t.matches=t.originalMatches.filter((function(t){return t.game.includes(e.state.game)&&t.category.includes(e.state.category)&&new Date(t.date_played).getTime()>=(new Date).getTime()-e.state.date})),t})),a=this.filteredData(t);return r.a.createElement("div",{className:"containerStats"},r.a.createElement("h1",null,"Statistics"),r.a.createElement("h3",null,"Here you can check how your astronauts are doing in the games!"),r.a.createElement(V,Object.assign({},this.state,{setQuery:this.setQuery,handleFilters:this.handleFilters})),r.a.createElement(H.a,{data:a,width:100,height:70,options:a.options}))}}]),a}(n.Component),Y=a(129),q=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={numA:0,numB:0,nums:L([[1,"One"],[2,"Two"],[3,"Three"],[4,"Four"]]),tries:3,right:0,score:100,redirect:!1,showBadMessage:!1,help:!1,star:!0},e.startTheGame=function(){e.setState({numA:Math.floor(2*Math.random())+1,numB:Math.floor(2*Math.random())+1})},e.emit=function(){e.props.socket.emit("set-game",{newGame:"/games/math-mars/"})},e.componentDidMount=function(){e.startTheGame();var t=setInterval(e.timer,1e3);e.setState({scoreCounter:t})},e.timer=function(){e.setState({score:e.state.score-1})},e.handleClick=function(t,a){a[0]===e.state.numA+e.state.numB?(e.getNewNumbers(),e.setState({score:e.state.score+10,showGoodMessage:!0,right:e.state.right+1}),setTimeout(function(){this.setState({showGoodMessage:!1})}.bind(Object(D.a)(e)),2e3)):(e.setState({tries:e.state.tries-1,score:e.state.score-20,showBadMessage:!0}),setTimeout(function(){this.setState({showBadMessage:!1})}.bind(Object(D.a)(e)),2e3))},e.getNewNumbers=function(){for(var t=Math.floor(2*Math.random())+1,a=Math.floor(2*Math.random())+1;e.state.numA===t&&e.state.numB===a;)t=Math.floor(2*Math.random())+1,a=Math.floor(2*Math.random())+1;e.setState({numA:t,numB:a})},e.handleRedirect=function(){N.a.post("/api/games/math-mars",e.state).then((function(){e.getNewNumbers(),e.setState({nums:L([[1,"One"],[2,"Two"],[3,"Three"],[4,"Four"]]),tries:3,right:0,score:100,redirect:!1,showGoodMessage:!1,showBadMessage:!1,help:!1,star:!0})}))},e.handleHover=function(){e.setState({help:!0,star:!1})},e}return Object(m.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.scoreCounter)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.tries<1&&r.a.createElement("div",{className:"congratulations"},r.a.createElement(I,{buttonMethod:this.handleRedirect})),3===this.state.right&&r.a.createElement("div",{className:"congratulations"},r.a.createElement(x,{buttonMethod:this.handleRedirect})),r.a.createElement("div",{className:"congratulations"},this.state.showGoodMessage&&this.state.right<3&&r.a.createElement(W,null)),r.a.createElement("div",{className:"congratulations"},this.state.showBadMessage&&this.state.tries>0&&r.a.createElement(R,{triesLeft:this.state.tries})),r.a.createElement("div",{className:"containerMath"},r.a.createElement("div",{className:"displayMath"},r.a.createElement("div",{className:"mathGame"},r.a.createElement("div",{className:"textGame"},r.a.createElement("div",null,r.a.createElement("h1",null,"Math Mars"),r.a.createElement("p",null,"Choose the right number!")),"teacher"===this.props.user.role?r.a.createElement("div",{className:"helpStar"},r.a.createElement("p",null,"Send this game!"),r.a.createElement("img",{src:"/images/star.png",onClick:function(){return e.emit()},alt:"star"})):this.state.star&&r.a.createElement("div",{className:"helpStar"},r.a.createElement("p",null,"Help Here!"),r.a.createElement("img",{src:"/images/star.png",onClick:function(){e.handleHover()},alt:"star"})),this.state.help&&r.a.createElement("div",{className:"aliensRow"},Object(Y.a)(Array(this.state.numA+this.state.numB)).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("img",{className:"aliens",src:"/images/hint.png",alt:"aliens"}))})))),r.a.createElement("div",{className:"dashInfo"},r.a.createElement("div",null,r.a.createElement("div",{className:"guesState"},this.state.numA," + ",this.state.numB," ="," ",r.a.createElement("h2",{className:"ask bounce"}," ? "))),r.a.createElement("div",{className:"dashNumbers"},this.state.nums.map((function(t,a){return r.a.createElement("div",{className:" numbers",key:a,onClick:function(a){e.handleClick(a,t)}},r.a.createElement("h4",null,t[0]))}))))))),this.state.redirect&&r.a.createElement(p.a,{to:"/games"}))}}]),a}(r.a.Component),J=a(130),Q=function(e){var t=e.component,a=e.user,n=Object(J.a)(e,["component","user"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return"teacher"===a.role?r.a.createElement(t,Object.assign({},n,{user:a},e)):r.a.createElement(p.a,{to:{pathname:"/unauthorized",state:{from:e.location}}})}}))},K=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={colors:["red","blue","orange","green"],randomColor:"",choiceColors:[["red","#ff0000","/images/memo/red.png"],["blue","#1261a0","/images/memo/blue.png"],["orange","#fb8e3c","/images/memo/orange.png"],["green","#008000","/images/memo/green.png"]],isColoured:!1,showGoodMessage:!1},e.pickRandomColor=function(){e.setState({randomColor:e.state.colors[Math.floor(Math.random()*e.state.colors.length)]})},e.handleClick=function(t,a){a[0]===e.state.randomColor&&(setTimeout(function(){this.setState({showGoodMessage:!0})}.bind(Object(D.a)(e)),1e3),e.setState({isColoured:!0}))},e.handleUpdate=function(){var t=e.state.colors.filter((function(t){return t!==e.state.randomColor}));e.setState({isColoured:!1,randomColor:t[Math.floor(Math.random()*t.length)],showGoodMessage:!1})},e.componentDidMount=function(){e.pickRandomColor()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"nameCustom"},r.a.createElement("h3",{className:"gameInstructions"},"In the meantime, let\xb4s play! Color your name")," ",r.a.createElement("h2",{className:"",style:{color:this.state.randomColor,fontFamily:"Barrio,cursive",fontSize:"2rem",margin:"0rem"}},this.state.randomColor),r.a.createElement("h1",{style:{color:this.state.isColoured?this.state.randomColor:" black",margin:"0.5rem"}},this.props.user.username),r.a.createElement("div",{className:"colorsRow"},this.state.choiceColors.map((function(t,a){return r.a.createElement("div",{key:a,className:"colorStar",onClick:function(a){e.handleClick(a,t)}},r.a.createElement("img",{src:t[2],alt:"choiceColor"}))}))),r.a.createElement("div",{className:"congratulations"},this.state.showGoodMessage&&r.a.createElement(W,{playAgain:!0,handleUpdate:this.handleUpdate})))}}]),a}(r.a.Component),_=function(e){return N.a.post("/api/cloudinary/upload",e).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Z=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={imageUrl:e.props.user.image_url,uploadOn:!1,showUpload:!1},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files[0]);var a=new FormData;a.append("imageUrl",t.target.files[0]),e.setState({uploadOn:!0}),_(a).then((function(t){e.setState({imageUrl:t.image_url,uploadOn:!1})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},e.handleClick=function(){e.setState({showUpload:!e.state.showUpload})},e.handleHistory=function(){e.setState({showUpload:!e.state.showUpload})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"profilePicture"},r.a.createElement("img",{src:"/images/profile.png",alt:"profile"}),this.state.imageUrl&&r.a.createElement("img",{className:"imageUser",src:this.state.imageUrl,alt:"profile"}),r.a.createElement("div",{className:"uploadImage",onClick:function(){e.handleClick()}},r.a.createElement("img",{src:"/images/starBack2.png",alt:"star"}),r.a.createElement("p",null,"Upload your image!")),this.state.showUpload&&r.a.createElement("div",{className:"congratulations"},r.a.createElement("div",{className:"modalUpload"},r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.handleHistory()}},"Ok!"))))}}]),a}(r.a.Component),$=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"containerHome"},r.a.createElement("div",{className:"rightHome"},r.a.createElement("h1",null,"WELCOME TO YOUR SPACE!"),r.a.createElement(Z,{user:this.props.user})),r.a.createElement("div",{className:"rightHome"},r.a.createElement(K,{user:this.props.user})))}}]),a}(r.a.Component),X=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"landingBox"},r.a.createElement("h1",{style:{color:"#4c175a",fontSize:"2rem",margin:"0rem"}},"Connected Users"),this.props.onlineUsers.map((function(e,t){return r.a.createElement("li",{key:t},e)})))}}]),a}(r.a.Component),ee=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"teachersTutorial"},r.a.createElement("h4",null,r.a.createElement(o.b,{to:"/games"},"Click here to start a game for your students!")),r.a.createElement("h4",null,r.a.createElement(o.b,{to:"/stats"},"Check the stats to see their improvements")))}}]),a}(r.a.Component),te=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"landingContainer"},r.a.createElement("div",{className:"displayBoxes"},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to Kinder Class"),this.props.user?r.a.createElement(ee,null):r.a.createElement("h3",null,"A galaxy of fun and learning!")),this.props.user?r.a.createElement(X,{onlineUsers:this.props.connectedUsers}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"landingBox"},r.a.createElement("h4",null,"For teachers"),r.a.createElement("p",null," Send games to your classroom in real time"),r.a.createElement("p",null,"Keep track of their learning progress"),r.a.createElement(o.b,{to:"/login"},"Start!")),r.a.createElement("div",{className:"landingBox"},r.a.createElement("h4",null,"For kids"),r.a.createElement("p",null,"Play and learn in a safe environment"),r.a.createElement(o.b,{to:"/login"},"Play now!"))),r.a.createElement("img",{className:"movingStar",src:"/images/star.png",alt:"star"}),r.a.createElement("img",{className:"movingOvni",src:"/images/hint.png",alt:"ovni"}),r.a.createElement("img",{className:"movingRocket bounce",src:"/images/star.png",alt:"rocket"}),r.a.createElement("img",{className:"movingShooting",src:"/images/starBack2.png",alt:"rocket"})))}}]),a}(r.a.Component),ae=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.user?"kid"===this.props.user.role?r.a.createElement($,Object.assign({user:this.props.user,socket:this.props.socket},this.props)):r.a.createElement(te,Object.assign({user:this.props.user,socket:this.props.socket,connectedUsers:this.props.connectedUsers},this.props)):r.a.createElement(te,Object.assign({socket:this.props.socket},this.props)))}}]),a}(n.Component),ne=a(126),re=a.n(ne),se=function(e){var t=e.setLinkTo,a=e.linkTo;return r.a.createElement("div",{className:"congratulations"},r.a.createElement("div",{className:"popUpLink"},r.a.createElement("div",{className:"linkToGame"},r.a.createElement("p",null,"Your teacher has started a new game!"),r.a.createElement(o.b,{to:a,onClick:function(){return t("")}},r.a.createElement("h1",null,"Go!")))))},ce=function(){return r.a.createElement("div",{className:"congratulations"},r.a.createElement("div",{className:"popUpLink"},r.a.createElement("div",{className:"linkToGame"},r.a.createElement("p",null,"New game sent!"))))};var oe=function(e){var t=Object(n.useState)(e.user),a=Object(l.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)([]),i=Object(l.a)(o,2),m=i[0],u=i[1],h=Object(n.useState)(""),g=Object(l.a)(h,2),E=g[0],f=g[1];Object(n.useEffect)((function(){(B=re()()).on("connected-users",(function(e){u(e.connectedUsers)})),B.on("send-game",(function(e){f(e.newGame)}))}),[]);var v=s&&"kid"===s.role?r.a.createElement(se,{linkTo:E,setLinkTo:f}):s&&"teacher"===s.role?(setTimeout((function(){f("")}),2e3),r.a.createElement(ce,null)):r.a.createElement(r.a.Fragment,null),b=function(e){B.emit("join",{username:e})};return r.a.createElement("div",{className:"App"},r.a.createElement(T,{user:s,setUser:c,left:function(e){B.emit("left",{username:e})}}),E&&v,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(ae,Object.assign({user:s,socket:B},e,{connectedUsers:m}))}}),r.a.createElement(p.b,{exact:!0,path:"/games",render:function(e){return r.a.createElement(A,Object.assign({user:s,socket:B},e))}}),r.a.createElement(p.b,{exact:!0,path:"/games/tutti-frutti",render:function(e){return r.a.createElement(d,Object.assign({user:s,socket:B},e))}}),r.a.createElement(p.b,{exact:!0,path:"/games/math-mars",render:function(e){return r.a.createElement(q,Object.assign({user:s,socket:B},e))}}),r.a.createElement(p.b,{exact:!0,path:"/games/tutti-frutti/:letter",render:function(e){return r.a.createElement(P,Object.assign({user:s},e))}}),r.a.createElement(Q,{exact:!0,path:"/stats",user:s,socket:B,component:z}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(U,Object.assign({setUser:c},e,{join:b}))}}),r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(e){return r.a.createElement(M,Object.assign({setUser:c},e,{join:b}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));N.a.get("/api/auth/loggedin").then((function(e){var t=e.data;c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(oe,{user:t}))),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[133,1,2]]]);
//# sourceMappingURL=main.e429962f.chunk.js.map